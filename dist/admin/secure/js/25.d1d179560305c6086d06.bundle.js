(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{216:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1);const o=({icon:e,text:t,insertBlock:n})=>Object(r.jsx)("button",{css:{background:"none",fontSize:"1rem",padding:"0 15px",margin:0,border:"none",display:"flex",width:"100%",alignItems:"center",":focus,:hover":{background:"#eaeaea"}},type:"button",onClick:n},Object(r.jsx)("div",{css:{padding:"10px 5px"}},e),Object(r.jsx)("span",{css:{padding:"10px 5px"}},t))},422:function(e,t,n){"use strict";n.r(t),n.d(t,"Node",(function(){return j})),n.d(t,"Sidebar",(function(){return f})),n.d(t,"getPlugins",(function(){return x})),n.d(t,"getSchema",(function(){return O})),n.d(t,"type",(function(){return m}));var r=n(13),o=n(193),c=n(1),i=n(216),a=n(5),s=n(0),d=n(236),l=n(215),u=n(208);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let m="image-container";const b=(e,t,n)=>{const r=new FileReader;r.onload=r=>y(e,t,n,r.target.result),r.readAsDataURL(n)},y=(e,t,n,r)=>{t.insertBlock({type:m,nodes:[o.a.create({type:e.image.type,data:{file:n,src:r}})]})};function f({blocks:e,editor:t}){const n=Object(c.jsx)("svg",{width:16,height:16,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Object(c.jsx)("path",{d:"M480 416v16c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v208c0 44.112 35.888 80 80 80h336zm96-80V80c0-26.51-21.49-48-48-48H144c-26.51 0-48 21.49-48 48v256c0 26.51 21.49 48 48 48h384c26.51 0 48-21.49 48-48zM256 128c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-96 144l55.515-55.515c4.686-4.686 12.284-4.686 16.971 0L272 256l135.515-135.515c4.686-4.686 12.284-4.686 16.971 0L512 208v112H160v-48z"}));return Object(c.jsx)(i.a,{icon:n,text:"Insert Image",insertBlock:()=>{new Promise(e=>{let t=document.createElement("input");t.type="file",t.onchange=()=>e([...t.files]),t.click()}).then(n=>{n.forEach(n=>b(e,t,n))})}})}function h(e){return"left"===e?{float:"left",marginRight:"10px",width:"50%"}:"right"===e?{float:"right",marginLeft:"10px",width:"50%"}:{display:"block",margin:"0px auto",width:"100%"}}function j(e){let t=e.node.data.get("alignment");return Object(c.jsx)("figure",Object(a.a)({css:p({display:"flex",flexDirection:"column"},h(t))},e.attributes),Object(c.jsx)(e.blocks.image.ImageAlignmentContext.Provider,{value:Object(s.useMemo)(()=>({alignment:t,onAlignmentChange(t){e.editor.setNodeByKey(e.node.key,{data:e.node.data.set("alignment",t)})}}),[e.node.key,t,e.editor,e.node.data])},e.children))}let O=({blocks:{image:e,caption:t}})=>({nodes:[{match:[{type:e.type}],min:1,max:1},{match:[{type:t.type}],min:1,max:1}],normalize(e,t){switch(t.code){case"child_min_invalid":return 0===t.index&&e.removeNodeByKey(t.node.key),void(1===t.index&&e.insertNodeByKey(t.node.key,1,o.a.create("caption")));case"node_data_invalid":return void("alignment"===t.key&&e.setNodeByKey(t.node.key,{data:t.node.data.set("alignment","center")}))}console.log(t)},data:{alignment(e){switch(e){case"center":case"left":case"right":return!0}return!1}}}),x=({blocks:e})=>[Object(d.a)({extensions:l,insertImage:b.bind(null,e)}),{onDragStart(t,n,r){const{value:o}=n,{document:c}=o,i=Object(u.b)(t.target,n);if(i.type===e.image.type){const e=c.getAncestors(i.key);let t=e.get(e.size-1);t.type===m&&n.moveToRangeOfNode(t)}r()}}]}}]);